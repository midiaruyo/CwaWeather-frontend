<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤©æ°£ç“¶å®‰é †æ™‚ä¸­ ğŸ¦‹~</title>
    <link rel="icon" type="image/png" href="./icon-stormglass.png">
    <link rel="apple-touch-icon" href="./icon-stormglass.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./icon-stormglass.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap"
        rel="stylesheet">

    <style>
        :root {
            /* ã€ä¿®æ”¹ 1-1ã€‘æ–°çš„é¡è‰²è®Šæ•¸ (æœ¨ç´‹/ç»ç’ƒ/æ·±è‰²åŸºèª¿) */
            --ac-wood-dark: #4A3A2A; /* æ·±æ£•è‰²ï¼Œæœ¨ç´‹åº•è‰² */
            --ac-wood-medium: #796452; /* ä¸­æ£•è‰² */
            --ac-cream: #FFFEF2; /* æ·ºè‰²å¡ç‰‡åº•è‰² */
            --ac-glass-bg: rgba(255, 255, 255, 0.75); /* ç»ç’ƒå¡ç‰‡èƒŒæ™¯ */
            --ac-blue-sky: #4FB5D9;
            --ac-dark: #333333; /* å¹¾ä¹é»‘çš„å­—é«” */
            --ac-text-light: #FFFEF2; /* æ·ºè‰²æ–‡å­— (ç”¨æ–¼æ·±è‰²èƒŒæ™¯) */
            --ac-yellow: #F9F195;
            --ac-card-border: #E6E0C8;
            --line-green:rgba(0, 128, 0, 0.425);
            --line-green-dark: #008D00;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            
            /* è¨­å®šåœ–ç‰‡ç‚ºä¸»è¦èƒŒæ™¯ */
            background-color: white; /* åœ–ç‰‡åœ“å½¢é‚Šç·£ç‚ºé»‘è‰²ï¼Œè¨­å®šç´”é»‘èƒŒæ™¯ */
            background-image: url('./icon-stormglass.png'); 
            
            /* è®“åœ–ç‰‡å®Œå…¨é¡¯ç¤ºåœ¨è¢å¹•å…§ï¼Œä¸¦ç½®ä¸­ */
            background-size: contain; 
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed; /* è®“èƒŒæ™¯åœ–ç‰‡å›ºå®šï¼Œä¸éš¨å…§å®¹æ»¾å‹• */
            min-height: 100vh;
            color: var(--ac-wood-dark);
            overflow-x: hidden;
            padding-bottom: 20px;
        }

        /* é ‚éƒ¨ç‹€æ…‹åˆ— */
        .status-bar {
            /* ä¿æŒåŠé€æ˜å’Œæ¨¡ç³Šæ•ˆæœ */
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: white; /* åŠé€æ˜æ·ºè‰² */
            position: sticky;
            top: 0;
            z-index: 100;
            color: var(--ac-wood-medium); 
        }
        
        /* èª¿æ•´åœ°é»æ–‡å­—åœ¨æ·±è‰²èƒŒæ™¯ä¸Šç‚ºæ·ºè‰² */
        .status-bar > div {
            color: var(--ac-wood-medium);
        }
        /* æ–°å¢ï¼šåˆ‡æ›é„‰é®æŒ‰éˆ•çš„åŸºåº•æ¨£å¼ */
        .currentTownship,.town-switch-btn {
            /* æŒ‰éˆ•æ¨£å¼æ”¹ç‚ºèˆ‡æœ¨ç´‹èƒŒæ™¯æ­çš„åœ“æ½¤æ·ºè‰² */
            background: var(--ac-cream);
            color: var(--ac-wood-medium);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 2px 2px 0 var(--ac-wood-medium); /* æ·±æ£•è‰²é™°å½± */
            transition: transform 0.1s;
        }

        .town-switch-btn:active {
            transform: translateY(1px);
            box-shadow: 1px 1px 0 var(--ac-wood-medium);
        }

        /* Line åˆ†äº«æŒ‰éˆ•æ¨£å¼ */
        .line-share-btn {
            background: var(--line-green);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 2px 2px 0 var(--line-green-dark);
            transition: transform 0.1s;
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
        }
        
        .line-share-btn:active {
            transform: translateY(1px);
            box-shadow: 1px 1px 0 var(--line-green-dark);
        }

        /* å‡è³‡æ–™æç¤ºæ¨™ç±¤ */
        .mock-pill {
            background: #ff7f7f;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 10px;
            display: inline-block;
            transform: rotate(2deg);
        }

        .container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        /* === æ ¸å¿ƒï¼šä»Šæ—¥ç„¦é»å¡ç‰‡ (ç»ç’ƒç“¶é«”æ•ˆæœ) === */
        .hero-card {
            /* ã€ä¿®æ”¹ 1-3ã€‘æ ¸å¿ƒå¡ç‰‡ï¼šæ¨¡æ“¬ç»ç’ƒæ„Ÿ */
            background: var(--ac-glass-bg); /* åŠé€æ˜æ·ºè‰² */
            backdrop-filter: blur(5px); /* æ¨¡ç³Šæ•ˆæœï¼Œå¢åŠ ç»ç’ƒæ„Ÿ */
            border-radius: 35px;
            padding: 30px 25px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); /* æ›´é‡çš„é™°å½±ï¼Œå¢åŠ ç«‹é«”æ„Ÿ */
            border: 3px solid rgba(255, 255, 255, 0.8); /* æ·ºè‰²é‚Šæ¡† */
            margin-bottom: 25px;
            position: relative;
        }

        /* å°è©±æ°£æ³¡ */
        .hero-period {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--ac-blue-sky); /* ä¿æŒè—è‰² */
            color: white;
            padding: 5px 20px;
            border-radius: 20px;
            font-weight: bold;
            border: 3px solid white;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.1);
        }

        .hero-temp-container {
            gap: 10px;
            margin: 10px 0;
        }

        /* ä¸» icon è®“å®ƒæ›´åƒå¤©æ°£ç“¶è£¡çš„çµæ™¶/ç‰©é«” */
        .hero-icon {
            font-size: 3rem;
            filter: drop-shadow(0 4px 0 rgba(0, 0, 0, 0.1));
            animation: float 4s infinite ease-in-out; /* æ¨¡æ“¬æµ®å‹• */
        }

        /* æ–°å¢æµ®å‹•å‹•ç•« (æ›´åƒçµæ™¶åœ¨æ°´ä¸­) */
        @keyframes float {
            0% { transform: translate(0, 0); }
            50% { transform: translate(0, -10px); }
            100% { transform: translate(0, 0); }
        }

        .hero-temp {
            font-size: 2rem;
            font-weight: 900;
            color: var(--ac-wood-medium); /* æ£•è‰²æ–‡å­— */
            line-height: 1;
        }

        .hero-desc {
            font-size: 1.5rem;
            color: var(--ac-wood-medium); /* æ£•è‰²æ–‡å­— */
            margin-bottom: 20px;
            font-weight: bold;
        }

        /* === å¿«é€Ÿå»ºè­°å€ === */
        .advice-grid {
            border-top: 2px dashed #C8BCAC; /* æ·ºä¸€é»çš„è™›ç·š */
        }

        .advice-item {
            /* è®“å»ºè­°é …ç›®æ›´è¼•ç›ˆä¸€é» */
            background: rgba(255, 255, 255, 0.5); 
            padding: 10px;
            border-radius: 20px;
        }

        .advice-icon {
            font-size: 2rem;
            margin-bottom:1px;
        }

        /* ã€ä¿®æ”¹ 3-1ã€‘å»ºè­°æ–‡å­—åŠ ç²—ï¼Œä¸¦è®“å®ƒæœ‰è©©è©æ„Ÿ */
        .advice-text {
            font-size: 1.2rem; /* ç‚ºäº†å®¹ç´ä¸ƒè¨€çµ•å¥ï¼Œå­—é«”ç¸®å°ä¸€é» */
            font-weight: 900;
            color: var(--ac-wood-dark);
            margin: 5px 0;
            line-height: 1.5; /* å¢åŠ è¡Œé«˜ */
        }

        /* === ç¨å¾Œé å ±ï¼šæ©«å‘æ»‘å‹•å€ === */
        .section-title {
            font-size: 1.2rem;
            color: var(--ac-yellow); /* æ·ºè‰²æ¨™é¡Œ */
            margin-bottom: 15px;
            margin-left: 10px;
            font-weight: 900;
            text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.4);
        }

        .scroll-container {
            padding-bottom: 10px;
        }

        .mini-card {
            /* ã€ä¿®æ”¹ 1-4ã€‘å°å¡ç‰‡ï¼šç•¥å¾®é€æ˜ï¼Œæ¨¡æ“¬ç»ç’ƒæ„Ÿ */
            min-width: 140px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            padding: 20px 15px;
            text-align: center;
            border: 3px solid rgba(255, 255, 255, 0.8);
            flex-shrink: 0;
        }

        .mini-time {
            /* å°å¡ç‰‡æ™‚é–“æ¨™ç±¤é¡è‰²èª¿æ•´ */
            background: var(--ac-wood-medium);
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .mini-icon {
            font-size: 2.5rem;
            margin: 5px 0;
        }

        .mini-temp {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--ac-dark);
        }

        /* Loading ç•«é¢ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--ac-wood-dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
    </style>
</head>

<body>
    <div id="loading" class="loading-screen">
        <div style="font-size: 4rem; animation: float 2s infinite;">ğŸ¦‹</div>
        <p style="color: white; font-weight: bold; margin-top: 20px;">æ­£åœ¨è§€æ¸¬çµæ™¶çš„è®ŠåŒ–...</p>
    </div>
    
    <div class="status-bar" id="status-bar">
        <div id="currentLocationText" style="font-size: 1.1rem; font-weight: 700;">
            <span id="currentTownship">è¼‰å…¥ä¸­...</span>
            <span id="mockDataIndicator"></span>
        </div>

        <button id="switchTownButton" class="town-switch-btn">
            åˆ‡æ›é„‰é®
        </button>

        <button id="lineShareButton" class="line-share-btn">
            <span style="font-size: 1.1rem;">ğŸ¦‹</span> åˆ†äº«åˆ°LINE
        </button>
    </div>

    <div class="container" id="mainContent" style="display: none;">

        <div id="heroCard">
        </div>

        <h3 class="section-title">ğŸ”® å¤©æ°£ç“¶é è¨€</h3>
        <div class="scroll-container" id="futureForecasts">
        </div>

    </div>

    <script>
        // === 1. çœŸå‡è³‡æ–™æ§åˆ¶å€ ===
        const API_URL = "https://weather-backend-midi.zeabur.app/api/weather/kaohsiung";
        // å‡è³‡æ–™çš„è·¯å¾‘ (è«‹æ›¿æ›æˆæ‚¨ Github ä¸Šçš„ Raw é€£çµæˆ–æœ¬åœ°è·¯å¾‘)
        const MOCK_DATA_URL = "./maioli-weather-3days.json";
        // ========================
        // ğŸš¨æª¢æŸ¥ URL ä¸­æ˜¯å¦æœ‰ ?mock=true åƒæ•¸
        const urlParams = new URLSearchParams(window.location.search);
        // å¦‚æœ URL ä¸­åŒ…å« mock åƒæ•¸ï¼Œä¸”å€¼ç‚º 'true'ï¼Œå‰‡è¨­å®šç‚º true
        const USE_MOCK_DATA = urlParams.get('mock') === 'true';

        function getWeatherIcon(weather) {
            if (!weather) return "âœ¨"; // é è¨­æ”¹ç‚ºçµæ™¶
            if (weather.includes("æ™´")) return "â˜€ï¸~";
            if (weather.includes("å¤šé›²")) return "ğŸŒ¥ï¸~";
            if (weather.includes("é™°")) return "â˜ï¸~";
            if (weather.includes("é›¨")) return "ğŸ’§~"; // é›¨å¤©ä½¿ç”¨æ°´æ»´ï¼Œæ›´åƒå¤©æ°£ç“¶å…§çš„æ¶²é«”
            if (weather.includes("é›·")) return "âš¡~";
            return "âœ¨";
        }

        // ã€ä¿®æ”¹ 3-2ã€‘æ–‡æ¡ˆä¿®æ”¹ï¼šä¸ƒè¨€çµ•å¥+å¤©æ°£ç“¶æ¦‚å¿µ
        function getAdvice(rainProb, maxTemp) {
            let rainIcon = "â˜ï¸ğŸ¦©";
            let rainText = "æ™´ç©ºä¸€é¶´æ’é›²ä¸Šï¼Œä¸å¸¶è“‘è¡£äº¦ç„¡å¦¨ã€‚"; // æ™´å¤©ï¼Œä¸ç”¨å¸¶å‚˜
            
            // é™é›¨ç‡è¶…é 30%
            if (parseInt(rainProb) > 30) {
                rainIcon = "â˜‚ï¸";
                rainText = "å¤©ç“¶å·²çµé›¨èŠ±å½¢ï¼Œå‡ºé–€å®šè¦å‚™æ²¹å‚˜ã€‚"; // é›¨å¤©ï¼Œè¨˜å¾—å¸¶å‚˜
            } else if (parseInt(rainProb) > 10) {
                // é™é›¨ç‡åœ¨ 11%-30%
                rainIcon = "ğŸŒ‚";
                rainText = "è¼•é›²å¶æœ‰è–„é›¨ä¾†ï¼Œè¡Œè£å‚˜å…·äº¦éš¨èº«ã€‚"; // å¯èƒ½æœƒä¸‹é›¨ï¼Œå¸¶å‚™ç”¨
            }

            let clothIcon = "ğŸ§¥";
            let clothText = "ç§‹æ°´ä¼Šäººæ†‘æ¬„æœ›ï¼Œæ·»ä»¶è–„è¡«äº¦ç›¸å®œã€‚"; // é è¨­åŠ ä»¶å¤–å¥—
            
            if (parseInt(maxTemp) >= 28) {
                clothIcon = "ğŸ½";
                clothText = "é…·æš‘ç‚ç‚æ—¥é ­çƒˆï¼Œè¼•ç¾…å°æ‰‡æ’²æµè¢ã€‚"; // ç‚ç†±ï¼ŒçŸ­è¢–
            } else if (parseInt(maxTemp) <= 20) {
                clothIcon = "ğŸ§£";
                clothText = "å¯’æ°£é€¼äººé¢¨éœ²é‡ï¼Œåšè£˜æš–ç‚­ä¿å¹³å®‰ã€‚"; // å¯’å†·ï¼Œåšå¤–å¥—
            }

            return { rainIcon, rainText, clothIcon, clothText };
        }

        function getTimePeriod(startTime) {
            const hour = new Date(startTime).getHours();
            if (hour >= 5 && hour < 11) return "æ¸…æ™¨"; // èª¿æ•´ç”¨èª
            if (hour >= 11 && hour < 14) return "æ­£åˆ"; // èª¿æ•´ç”¨èª
            if (hour >= 14 && hour < 18) return "å‘æ™š"; // èª¿æ•´ç”¨èª
            if (hour >= 18 && hour < 23) return "å¤œé—Œ"; // èª¿æ•´ç”¨èª
            return "å­å¤œ"; // èª¿æ•´ç”¨èª
        }

        function renderWeather(data) {
            const forecasts = data.forecasts;
            const current = forecasts[0];
            const others = forecasts.slice(1);

            // 1. æ¸²æŸ“ Hero Card (ä¸»ç•«é¢)
            const advice = getAdvice(current.rain, current.maxTemp);
            const period = getTimePeriod(current.startTime);
            const avgTemp = Math.round((parseInt(current.maxTemp) + parseInt(current.minTemp)) / 2);

            document.getElementById('heroCard').innerHTML = `
                <div class="hero-card">
                    <div class="hero-period">${period}</div>
                    <div class="hero-temp-container">
                        <div class="hero-icon">${getWeatherIcon(current.weather)}</div>
                        <div class="hero-temp">${avgTemp}Â°</div>
                    </div>
                    <div class="hero-desc">ç“¶ä¸­çµæ™¶ï¼š${current.weather}</div>
                    
                    <div class="advice-grid">
                        <div class="advice-item">
                            <div class="advice-icon">${advice.rainIcon}</div>
                            <div class="advice-text">${advice.rainText}</div>
                            <div style="font-size:1rem; color:black">ğŸ’§${current.rain}</div>
                        </div>
                        <div class="advice-item">
                            <div class="advice-icon">${advice.clothIcon}</div>
                            <div class="advice-text">${advice.clothText}</div>
                            <div style="font-size:1rem; color:black">æ°£æº« ${current.minTemp}Â° ~ ${current.maxTemp}Â°</div>
                        </div>
                    </div>
                </div>
            `;

            // 2. æ¸²æŸ“ç¨å¾Œé å ± (åŒ…å«æ˜å¤©åˆ¤æ–·)
            const scrollContainer = document.getElementById('futureForecasts');
            scrollContainer.innerHTML = '';

            // æŠ“ä»Šå¤©çš„æ—¥æœŸæ•¸å­— (ä¾‹å¦‚ 24)
            const todayDate = new Date().getDate();

            others.forEach(f => {
                let p = getTimePeriod(f.startTime);

                // åˆ¤æ–·è©²é å ±çš„æ—¥æœŸæ˜¯å¦è·Ÿä»Šå¤©ä¸åŒï¼Œä¸åŒå°±æ˜¯æ˜å¤©
                const fDate = new Date(f.startTime);
                if (fDate.getDate() !== todayDate) {
                    p = "æ˜æ—¥" + p; // æ˜æ—¥å–ä»£æ˜å¤©
                }
                else {
                    p = "ä»Šæ—¥" + p; // ä»Šæ—¥æ¨™ç¤º
                }

                scrollContainer.innerHTML += `
                    <div class="mini-card">
                        <div class="mini-time">${p}</div>
                        <div class="mini-icon">${getWeatherIcon(f.weather)}</div>
                        <div class="mini-temp">${f.minTemp}Â° - ${f.maxTemp}Â°</div>
                        <div style="font-size:1rem; color:black; margin-top:3px;">ğŸ’§${f.rain}</div>
                    </div>
                `;
            });

            // 3. èª¿æ•´é„‰é®åç¨±é¡¯ç¤º (å°æ‡‰æ–°çš„ HTML çµæ§‹)
            const defaultTownship = data.township || 'è‹—æ —ç¸£'; // å¾è³‡æ–™ä¸­å–å¾—æˆ–ä½¿ç”¨é è¨­
            document.getElementById('currentTownship').textContent = `ğŸ“ ${defaultTownship}`;

            // 4. æš«æ™‚å°‡åˆ‡æ›æŒ‰éˆ•çš„æ–‡å­—è¨­ç½®ç‚ºç•¶å‰æ—¥æœŸ
            const now = new Date();
            const month = now.getMonth() + 1;
            const date = now.getDate();
            const dayIndex = now.getDay();
            const days = ["é€±æ—¥", "é€±ä¸€", "é€±äºŒ", "é€±ä¸‰", "é€±å››", "é€±äº”", "é€±å…­"];
            document.getElementById('switchTownButton').textContent = `${month}/${date} ${days[dayIndex]}`;
        }

        async function fetchWeather() {
            let dataUrl = API_URL;
            let source = 'çœŸå¯¦ API';
            const indicatorEl = document.getElementById('mockDataIndicator');

            if (USE_MOCK_DATA) {
                dataUrl = MOCK_DATA_URL;
                source = 'å‡è³‡æ–™ JSON';
                if (indicatorEl) {
                    indicatorEl.className = 'mock-pill';
                    indicatorEl.textContent = 'å‡è³‡æ–™æ¨¡å¼';
                }
                console.log('%c[è³‡æ–™ä¾†æº]: å•Ÿç”¨å‡è³‡æ–™æ¨¡å¼ï¼Œè®€å–æª”æ¡ˆ: ' + MOCK_DATA_URL, 'color: #ff7f7f; font-weight: bold;');
            } else {
                if (indicatorEl) {
                    indicatorEl.className = '';
                    indicatorEl.textContent = '';
                }
                console.log('%c[è³‡æ–™ä¾†æº]: è®€å–çœŸå¯¦ API: ' + API_URL, 'color: #007bff; font-weight: bold;');
            }

            try {
                const delayPromise = new Promise(resolve => setTimeout(resolve, 1500));
                const fetchPromise = fetch(dataUrl).then(res => {
                    if (!res.ok) {
                        throw new Error(`HTTP éŒ¯èª¤! ç‹€æ…‹ç¢¼: ${res.status}`);
                    }
                    return res.json();
                });

                const [_, json] = await Promise.all([delayPromise, fetchPromise]);

                if (json.success) {
                    renderWeather(json.data);

                    document.getElementById('loading').style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                    console.log(`[${source}] è³‡æ–™æˆåŠŸæ¸²æŸ“ã€‚`);

                } else {
                    throw new Error(`[${source}] è³‡æ–™çµæ§‹éŒ¯èª¤: success: false`);
                }
            } catch (e) {
                console.error(`%c[éŒ¯èª¤ç™¼ç”Ÿ]: ç„¡æ³•å–å¾— ${source} è³‡æ–™.`, 'color: red; font-weight: bold;', e);
                document.getElementById('loading').style.display = 'none';
                alert(`å¤©æ°£è³‡æ–™è®€å–å¤±æ•—ï¼Œä¾†æº: ${source}ã€‚è«‹æª¢æŸ¥æª”æ¡ˆè·¯å¾‘æˆ–ç¶²è·¯é€£ç·šï¼(éŒ¯èª¤è¨Šæ¯: ${e.message})`);
            }
        }

        // Line åˆ†äº«åŠŸèƒ½å¯¦ä½œ
        function shareToLine() {
            const url = encodeURIComponent(window.location.href);
            // ã€ä¿®æ”¹ 2ã€‘åˆ†äº«æ–‡æ¡ˆä¹Ÿä¸€åŒä¿®æ”¹
            const text = encodeURIComponent(`ã€å¤©æ°£ç“¶å®‰é †æ™‚ä¸­ ğŸ¦‹~ã€‘çµæ™¶é ç¤ºï¼šä¸ç®¡ä»€éº¼å¤©æ°£ï¼Œéƒ½èƒ½æœ‰æœ€å¥½çš„å®‰æ’ï¼\n`);
            window.open(`https://social-plugins.line.me/lineit/share?url=${url}&text=${text}`, '_blank');
        }

        document.addEventListener("DOMContentLoaded", () => {
            fetchWeather();
            
            // ç›£è½ Line åˆ†äº«æŒ‰éˆ•
            const shareBtn = document.getElementById('lineShareButton');
            if (shareBtn) {
                shareBtn.addEventListener('click', shareToLine);
            }

            // ç›£è½åˆ‡æ›é„‰é®æŒ‰éˆ• (æœªä¾†æ”¹ç‰ˆä½¿ç”¨)
            const switchBtn = document.getElementById('switchTownButton');
            if (switchBtn) {
                switchBtn.addEventListener('click', () => {
                    alert("ğŸ”® å¤©æ°£ç“¶é è¨€ï¼šåˆ‡æ›é„‰é®åŠŸèƒ½å°‡åœ¨æœªä¾†ç‰ˆæœ¬æä¾›ï¼æ•¬è«‹æœŸå¾…ï¼");
                });
            }
        });
    </script>
</body>

</html>